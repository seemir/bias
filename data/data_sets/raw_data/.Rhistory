isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
reAdmissionHFpEF <- ifelse(isReAdmittedHFpEF,"yes","no")
reAdmissionHFmrEF <- ifelse(isReAdmittedHFmrEF,"yes","no")
# ----------------------------------------------------------- #
# Add outcomes to matrix
# ----------------------------------------------------------- #
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
HFpEFoutcomes <- cbind(patientIdHFpEF, patientGroupsHFpEF,
deceasedHFpEF, reAdmissionHFpEF)
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
colnames(HFpEFoutcomes) <- colnames(HFmrEFoutcomes) <-
c("patientid", "patientgroup", "deceased", "readmitted")
View(HFpEFoutcomes)
save(HFpEFoutcomes, file='outcomes_HFpEF.Rdat')
save(HFmrEFoutcomes,file='outcomes_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# Install packages (if not already installed)
# ----------------------------------------------------------- #
Packages <- c("R.matlab", "data.table","stringr")
# install.packages(Packages)
# ----------------------------------------------------------- #
# Load relevant packages
# ----------------------------------------------------------- #
lapply(Packages, library, character.only = TRUE)
# ----------------------------------------------------------- #
# Read matlab files into R
# ----------------------------------------------------------- #
dataSetHFpEF <- readMat('data_use_HFpEF.mat')
dataSetHFmrEF <- readMat('data_use_HFmrEF.mat')
# ----------------------------------------------------------- #
# Extract the data matrix from matlab files
# ----------------------------------------------------------- #
HFpEFmat <- dataSetHFpEF$All.data
HFmrEFmat <- dataSetHFmrEF$All.data
# ----------------------------------------------------------- #
# Get patient ids
# ----------------------------------------------------------- #
patientIdHFpEF <- dataSetHFpEF$patientID
patientIdHFmrEF <- dataSetHFmrEF$patientID
# ----------------------------------------------------------- #
# Add patient ids to HF_matrices and all column names
# ----------------------------------------------------------- #
HFpEFmat <- cbind(patientIdHFpEF, HFpEFmat)
HFmrEFmat <- cbind(patientIdHFmrEF, HFmrEFmat)
colnames(HFpEFmat) <- c('patientid', as.vector(unlist(
dataSetHFpEF$Varnames)))
colnames(HFmrEFmat) <- c('patientid', as.vector(unlist(
dataSetHFmrEF$Varnames)))
# ----------------------------------------------------------- #
# Consolidate naming conventions for some variables
# ----------------------------------------------------------- #
# In the HFpEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFpEFmat),
old = c("E_e","LVfunction", "ECGRhythm_other",
"ECGQRS_other", "Other_ethnicity", "Plt",
"COPD"),
new = c("Ee", "LVEF", "ECGRhythmother", "ECGQRSother",
"Otherethnicity", "Plts", "COPDasthma"))
# ----------------------------------------------------------- #
# In the HFmrEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFmrEFmat),
old=c("Admissionweight","BMI","Numberofcomorbidities",
"Afrocaribbean", "Caucasian","Pulse","NtproBNP",
"E", "ECGRhythm_other", "LVHand_orLAE",
"ECGQRS_other", "iron", "Timetoadmission"),
new = c("admissionwgt","BmIadmission","comorbidities",
"Black","White","pulse","NTproBNP", "Ewave",
"ECGRhythmother", "LVHandorLAE",
"ECGQRSother", "Ironlevels", "TimetoHFadm"))
# ----------------------------------------------------------- #
# Lowercase letters for all the colnames
# ----------------------------------------------------------- #
colnames(HFpEFmat) <- tolower(colnames(HFpEFmat))
colnames(HFmrEFmat) <- tolower(colnames(HFmrEFmat))
# ----------------------------------------------------------- #
# Save the matrices as .Rdat
# ----------------------------------------------------------- #
save(HFpEFmat, file='data_use_HFpEF_matrix.Rdat')
save(HFmrEFmat, file='data_use_HFmrEF_matrix.Rdat')
# ----------------------------------------------------------- #
# Re-code patient group labels
# ----------------------------------------------------------- #
# Get patient groups
# ----------------------------------------------------------- #
patientGroupsHFpEF <- as.matrix(unlist(
dataSetHFpEF$Patient.group))
patientGroupsHFmrEF <- as.matrix(unlist(
dataSetHFmrEF$Patient.group))
# ----------------------------------------------------------- #
# Labels of clinical outcomes
# ----------------------------------------------------------- #
deceased <- c("IN", "Z", "Y", "X")
reAdmission <- c("V", "U")
# ----------------------------------------------------------- #
# Split labels
# ----------------------------------------------------------- #
HFpEFsplit <- str_split_fixed(patientGroupsHFpEF,", ", n=2)
HFmrEFsplit <- str_split_fixed(patientGroupsHFmrEF,", ",n=2)
# ----------------------------------------------------------- #
# Re-coding mortality labels
# ----------------------------------------------------------- #
isDeceasedHFpEF <- HFpEFsplit[,1] %in% deceased
isDeceasedHFmrEF <- HFmrEFsplit[,1] %in% deceased
deceasedHFpEF <- ifelse(isDeceasedHFpEF, "yes", "no")
deceasedHFmrEF <- ifelse(isDeceasedHFmrEF, "yes", "no")
# ----------------------------------------------------------- #
# Re-coding re-admission labels
# ----------------------------------------------------------- #
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
reAdmissionHFpEF <- ifelse(isReAdmittedHFpEF,"yes","no")
reAdmissionHFmrEF <- ifelse(isReAdmittedHFmrEF,"yes","no")
# ----------------------------------------------------------- #
# Add outcomes to matrix
# ----------------------------------------------------------- #
HFpEFoutcomes <- cbind(patientIdHFpEF, patientGroupsHFpEF,
deceasedHFpEF, reAdmissionHFpEF)
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
# ----------------------------------------------------------- #
# Add colnames to matrices
# ----------------------------------------------------------- #
colnames(HFpEFoutcomes) <- colnames(HFmrEFoutcomes) <-
c("patientid", "patientgroup", "deceased", "readmitted")
# ----------------------------------------------------------- #
# Save the matrices as .Rdat file
# ----------------------------------------------------------- #
save(HFpEFoutcomes, file='outcomes_HFpEF.Rdat')
save(HFmrEFoutcomes,file='outcomes_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# ----------------------------------------------------------- #
# Install packages (if not already installed)
# ----------------------------------------------------------- #
Packages <- c("R.matlab", "data.table","stringr")
# install.packages(Packages)
# ----------------------------------------------------------- #
# Load relevant packages
# ----------------------------------------------------------- #
lapply(Packages, library, character.only = TRUE)
# ----------------------------------------------------------- #
# Read matlab files into R
# ----------------------------------------------------------- #
dataSetHFpEF <- readMat('data_use_HFpEF.mat')
dataSetHFmrEF <- readMat('data_use_HFmrEF.mat')
# ----------------------------------------------------------- #
# Extract the data matrix from matlab files
# ----------------------------------------------------------- #
HFpEFmat <- dataSetHFpEF$All.data
HFmrEFmat <- dataSetHFmrEF$All.data
# ----------------------------------------------------------- #
# Get patient ids
# ----------------------------------------------------------- #
patientIdHFpEF <- dataSetHFpEF$patientID
patientIdHFmrEF <- dataSetHFmrEF$patientID
# ----------------------------------------------------------- #
# Add patient ids to HF_matrices and all column names
# ----------------------------------------------------------- #
HFpEFmat <- cbind(patientIdHFpEF, HFpEFmat)
HFmrEFmat <- cbind(patientIdHFmrEF, HFmrEFmat)
colnames(HFpEFmat) <- c('patientid', as.vector(unlist(
dataSetHFpEF$Varnames)))
colnames(HFmrEFmat) <- c('patientid', as.vector(unlist(
dataSetHFmrEF$Varnames)))
# ----------------------------------------------------------- #
# Consolidate naming conventions for some variables
# ----------------------------------------------------------- #
# In the HFpEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFpEFmat),
old = c("E_e","LVfunction", "ECGRhythm_other",
"ECGQRS_other", "Other_ethnicity", "Plt",
"COPD"),
new = c("Ee", "LVEF", "ECGRhythmother", "ECGQRSother",
"Otherethnicity", "Plts", "COPDasthma"))
# ----------------------------------------------------------- #
# In the HFmrEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFmrEFmat),
old=c("Admissionweight","BMI","Numberofcomorbidities",
"Afrocaribbean", "Caucasian","Pulse","NtproBNP",
"E", "ECGRhythm_other", "LVHand_orLAE",
"ECGQRS_other", "iron", "Timetoadmission"),
new = c("admissionwgt","BmIadmission","comorbidities",
"Black","White","pulse","NTproBNP", "Ewave",
"ECGRhythmother", "LVHandorLAE",
"ECGQRSother", "Ironlevels", "TimetoHFadm"))
# ----------------------------------------------------------- #
# Lowercase letters for all the colnames
# ----------------------------------------------------------- #
colnames(HFpEFmat) <- tolower(colnames(HFpEFmat))
colnames(HFmrEFmat) <- tolower(colnames(HFmrEFmat))
# ----------------------------------------------------------- #
# Save the matrices as .Rdat
# ----------------------------------------------------------- #
save(HFpEFmat, file='data_use_HFpEF.Rdat')
save(HFmrEFmat, file='data_use_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# Re-code patient group labels
# ----------------------------------------------------------- #
# Get patient groups
# ----------------------------------------------------------- #
patientGroupsHFpEF <- as.matrix(unlist(
dataSetHFpEF$Patient.group))
patientGroupsHFmrEF <- as.matrix(unlist(
dataSetHFmrEF$Patient.group))
# ----------------------------------------------------------- #
# Labels of clinical outcomes
# ----------------------------------------------------------- #
deceased <- c("IN", "Z", "Y", "X")
reAdmission <- c("V", "U")
# ----------------------------------------------------------- #
# Split labels
# ----------------------------------------------------------- #
HFpEFsplit <- str_split_fixed(patientGroupsHFpEF,", ", n=2)
HFmrEFsplit <- str_split_fixed(patientGroupsHFmrEF,", ",n=2)
# ----------------------------------------------------------- #
# Re-coding mortality labels
# ----------------------------------------------------------- #
isDeceasedHFpEF <- HFpEFsplit[,1] %in% deceased
isDeceasedHFmrEF <- HFmrEFsplit[,1] %in% deceased
deceasedHFpEF <- ifelse(isDeceasedHFpEF, "yes", "no")
deceasedHFmrEF <- ifelse(isDeceasedHFmrEF, "yes", "no")
# ----------------------------------------------------------- #
# Re-coding re-admission labels
# ----------------------------------------------------------- #
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
reAdmissionHFpEF <- ifelse(isReAdmittedHFpEF,"yes","no")
reAdmissionHFmrEF <- ifelse(isReAdmittedHFmrEF,"yes","no")
# ----------------------------------------------------------- #
# Add outcomes to matrix
# ----------------------------------------------------------- #
HFpEFoutcomes <- cbind(patientIdHFpEF, patientGroupsHFpEF,
deceasedHFpEF, reAdmissionHFpEF)
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
# ----------------------------------------------------------- #
# Add colnames to matrices
# ----------------------------------------------------------- #
colnames(HFpEFoutcomes) <- colnames(HFmrEFoutcomes) <-
c("patientid", "patientgroup", "deceased", "readmitted")
# ----------------------------------------------------------- #
# Save the matrices as .Rdat file
# ----------------------------------------------------------- #
save(HFpEFoutcomes, file='outcomes_HFpEF.Rdat')
save(HFmrEFoutcomes,file='outcomes_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# ----------------------------------------------------------- #
# Install packages (if not already installed)
# ----------------------------------------------------------- #
Packages <- c("R.matlab", "data.table","stringr")
# install.packages(Packages)
# ----------------------------------------------------------- #
# Load relevant packages
# ----------------------------------------------------------- #
lapply(Packages, library, character.only = TRUE)
# ----------------------------------------------------------- #
# Read matlab files into R
# ----------------------------------------------------------- #
dataSetHFpEF <- readMat('data_use_HFpEF.mat')
dataSetHFmrEF <- readMat('data_use_HFmrEF.mat')
# ----------------------------------------------------------- #
# Extract the data matrix from matlab files
# ----------------------------------------------------------- #
HFpEFmat <- dataSetHFpEF$All.data
HFmrEFmat <- dataSetHFmrEF$All.data
# ----------------------------------------------------------- #
# Get patient ids
# ----------------------------------------------------------- #
patientIdHFpEF <- dataSetHFpEF$patientID
patientIdHFmrEF <- dataSetHFmrEF$patientID
# ----------------------------------------------------------- #
# Add patient ids to HF_matrices and all column names
# ----------------------------------------------------------- #
HFpEFmat <- cbind(patientIdHFpEF, HFpEFmat)
HFmrEFmat <- cbind(patientIdHFmrEF, HFmrEFmat)
colnames(HFpEFmat) <- c('patientid', as.vector(unlist(
dataSetHFpEF$Varnames)))
colnames(HFmrEFmat) <- c('patientid', as.vector(unlist(
dataSetHFmrEF$Varnames)))
# ----------------------------------------------------------- #
# Consolidate naming conventions for some variables
# ----------------------------------------------------------- #
# In the HFpEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFpEFmat),
old = c("E_e","LVfunction", "ECGRhythm_other",
"ECGQRS_other", "Other_ethnicity", "Plt",
"COPD"),
new = c("Ee", "LVEF", "ECGRhythmother", "ECGQRSother",
"Otherethnicity", "Plts", "COPDasthma"))
# ----------------------------------------------------------- #
# In the HFmrEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFmrEFmat),
old=c("Admissionweight","BMI","Numberofcomorbidities",
"Afrocaribbean", "Caucasian","Pulse","NtproBNP",
"E", "ECGRhythm_other", "LVHand_orLAE",
"ECGQRS_other", "iron", "Timetoadmission"),
new = c("admissionwgt","BmIadmission","comorbidities",
"Black","White","pulse","NTproBNP", "Ewave",
"ECGRhythmother", "LVHandorLAE",
"ECGQRSother", "Ironlevels", "TimetoHFadm"))
# ----------------------------------------------------------- #
# Lowercase letters for all the colnames
# ----------------------------------------------------------- #
colnames(HFpEFmat) <- tolower(colnames(HFpEFmat))
colnames(HFmrEFmat) <- tolower(colnames(HFmrEFmat))
# ----------------------------------------------------------- #
# Save the matrices as .Rdat
# ----------------------------------------------------------- #
save(HFpEFmat, file='data_use_HFpEF.Rdat')
save(HFmrEFmat, file='data_use_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# Re-code patient group labels
# ----------------------------------------------------------- #
# Get patient groups
# ----------------------------------------------------------- #
patientGroupsHFpEF <- as.matrix(unlist(
dataSetHFpEF$Patient.group))
patientGroupsHFmrEF <- as.matrix(unlist(
dataSetHFmrEF$Patient.group))
# ----------------------------------------------------------- #
# Labels of clinical outcomes
# ----------------------------------------------------------- #
deceased <- c("IN", "Z", "Y", "X")
reAdmission <- c("V", "U")
# ----------------------------------------------------------- #
# Split labels
# ----------------------------------------------------------- #
HFpEFsplit <- str_split_fixed(patientGroupsHFpEF,", ", n=2)
HFmrEFsplit <- str_split_fixed(patientGroupsHFmrEF,", ",n=2)
# ----------------------------------------------------------- #
# Re-coding mortality labels
# ----------------------------------------------------------- #
isDeceasedHFpEF <- HFpEFsplit[,1] %in% deceased
isDeceasedHFmrEF <- HFmrEFsplit[,1] %in% deceased
deceasedHFpEF <- ifelse(isDeceasedHFpEF, "yes", "no")
deceasedHFmrEF <- ifelse(isDeceasedHFmrEF, "yes", "no")
# ----------------------------------------------------------- #
# Re-coding re-admission labels
# ----------------------------------------------------------- #
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
reAdmissionHFpEF <- ifelse(isReAdmittedHFpEF,"yes","no")
reAdmissionHFmrEF <- ifelse(isReAdmittedHFmrEF,"yes","no")
# ----------------------------------------------------------- #
# Add outcomes to matrix
# ----------------------------------------------------------- #
HFpEFoutcomes <- cbind(patientIdHFpEF, patientGroupsHFpEF,
deceasedHFpEF, reAdmissionHFpEF)
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
# ----------------------------------------------------------- #
# Add colnames to matrices
# ----------------------------------------------------------- #
colnames(HFpEFoutcomes) <- colnames(HFmrEFoutcomes) <-
c("patientid", "patientgroup", "deceased", "readmitted")
# ----------------------------------------------------------- #
# Save the matrices as .Rdat file
# ----------------------------------------------------------- #
save(HFpEFoutcomes, file='outcomes_HFpEF.Rdat')
save(HFmrEFoutcomes,file='outcomes_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# ----------------------------------------------------------- #
# Add patient ids to HF_matrices and all column names
# ----------------------------------------------------------- #
View(HFpEFmat) <- cbind(patientIdHFpEF, HFpEFmat)
View(HFpEFmat)
deceased
View(HFpEFoutcomes)
# ----------------------------------------------------------- #
# Install packages (if not already installed)
# ----------------------------------------------------------- #
Packages <- c("R.matlab", "data.table","stringr")
# install.packages(Packages)
# ----------------------------------------------------------- #
# Load relevant packages
# ----------------------------------------------------------- #
lapply(Packages, library, character.only = TRUE)
# ----------------------------------------------------------- #
# Read matlab files into R
# ----------------------------------------------------------- #
dataSetHFpEF <- readMat('data_use_HFpEF.mat')
dataSetHFmrEF <- readMat('data_use_HFmrEF.mat')
# ----------------------------------------------------------- #
# Extract the data matrix from matlab files
# ----------------------------------------------------------- #
HFpEFmat <- dataSetHFpEF$All.data
HFmrEFmat <- dataSetHFmrEF$All.data
# ----------------------------------------------------------- #
# Get patient ids
# ----------------------------------------------------------- #
patientIdHFpEF <- dataSetHFpEF$patientID
patientIdHFmrEF <- dataSetHFmrEF$patientID
# ----------------------------------------------------------- #
# Add patient ids to HF_matrices and all column names
# ----------------------------------------------------------- #
HFpEFmat <- cbind(patientIdHFpEF, HFpEFmat)
HFmrEFmat <- cbind(patientIdHFmrEF, HFmrEFmat)
colnames(HFpEFmat) <- c('patientid', as.vector(unlist(
dataSetHFpEF$Varnames)))
colnames(HFmrEFmat) <- c('patientid', as.vector(unlist(
dataSetHFmrEF$Varnames)))
# ----------------------------------------------------------- #
# Consolidate naming conventions for some variables
# ----------------------------------------------------------- #
# In the HFpEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFpEFmat),
old = c("E_e","LVfunction", "ECGRhythm_other",
"ECGQRS_other", "Other_ethnicity", "Plt",
"COPD"),
new = c("Ee", "LVEF", "ECGRhythmother", "ECGQRSother",
"Otherethnicity", "Plts", "COPDasthma"))
# ----------------------------------------------------------- #
# In the HFmrEF matrix
# ----------------------------------------------------------- #
setnames(as.data.frame(HFmrEFmat),
old=c("Admissionweight","BMI","Numberofcomorbidities",
"Afrocaribbean", "Caucasian","Pulse","NtproBNP",
"E", "ECGRhythm_other", "LVHand_orLAE",
"ECGQRS_other", "iron", "Timetoadmission"),
new = c("admissionwgt","BmIadmission","comorbidities",
"Black","White","pulse","NTproBNP", "Ewave",
"ECGRhythmother", "LVHandorLAE",
"ECGQRSother", "Ironlevels", "TimetoHFadm"))
# ----------------------------------------------------------- #
# Lowercase letters for all the colnames
# ----------------------------------------------------------- #
colnames(HFpEFmat) <- tolower(colnames(HFpEFmat))
colnames(HFmrEFmat) <- tolower(colnames(HFmrEFmat))
# ----------------------------------------------------------- #
# Save the matrices as .Rdat
# ----------------------------------------------------------- #
save(HFpEFmat, file='data_use_HFpEF.Rdat')
save(HFmrEFmat, file='data_use_HFmrEF.Rdat')
# ----------------------------------------------------------- #
# Re-code patient group labels
# ----------------------------------------------------------- #
# Get patient groups
# ----------------------------------------------------------- #
patientGroupsHFpEF <- as.matrix(unlist(
dataSetHFpEF$Patient.group))
patientGroupsHFmrEF <- as.matrix(unlist(
dataSetHFmrEF$Patient.group))
# ----------------------------------------------------------- #
# Labels of clinical outcomes
# ----------------------------------------------------------- #
deceased <- c("IN", "Z", "Y", "X")
reAdmission <- c("V", "U")
# ----------------------------------------------------------- #
# Split labels
# ----------------------------------------------------------- #
HFpEFsplit <- str_split_fixed(patientGroupsHFpEF,", ", n = 2)
HFmrEFsplit <- str_split_fixed(patientGroupsHFmrEF,", ",n = 2)
# ----------------------------------------------------------- #
# Re-coding mortality labels
# ----------------------------------------------------------- #
isDeceasedHFpEF <- HFpEFsplit[,1] %in% deceased
isDeceasedHFmrEF <- HFmrEFsplit[,1] %in% deceased
deceasedHFpEF <- ifelse(isDeceasedHFpEF, "yes", "no")
deceasedHFmrEF <- ifelse(isDeceasedHFmrEF, "yes", "no")
# ----------------------------------------------------------- #
# Re-coding re-admission labels
# ----------------------------------------------------------- #
isReAdmittedHFpEF <- HFpEFsplit[,1] %in% reAdmission |
HFpEFsplit[,2] %in% reAdmission
isReAdmittedHFmrEF <- HFmrEFsplit[,1] %in% reAdmission |
HFmrEFsplit[,2] %in% reAdmission
reAdmissionHFpEF <- ifelse(isReAdmittedHFpEF,"yes","no")
reAdmissionHFmrEF <- ifelse(isReAdmittedHFmrEF,"yes","no")
# ----------------------------------------------------------- #
# Add outcomes to matrix
# ----------------------------------------------------------- #
HFpEFoutcomes <- cbind(patientIdHFpEF, patientGroupsHFpEF,
deceasedHFpEF, reAdmissionHFpEF)
HFmrEFoutcomes <- cbind(patientIdHFmrEF, patientGroupsHFmrEF,
deceasedHFmrEF, reAdmissionHFmrEF)
# ----------------------------------------------------------- #
# Add colnames to matrices
# ----------------------------------------------------------- #
colnames(HFpEFoutcomes) <- colnames(HFmrEFoutcomes) <-
c("patientid", "patientgroup", "deceased", "readmitted")
# ----------------------------------------------------------- #
# Save the matrices as .Rdat file
# ----------------------------------------------------------- #
save(HFpEFoutcomes, file='outcomes_HFpEF.Rdat')
save(HFmrEFoutcomes,file='outcomes_HFmrEF.Rdat')
# ----------------------------------------------------------- #
View(HFpEFmat)
